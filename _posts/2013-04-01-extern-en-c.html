---
layout: post
category: c-codes
tags: [c,extern,librerias]
title: Extern en C
comments: yes
preview: '<p>La palabra reservada de C <strong>extern</strong> se utiliza cuando usamos librerías y multiples archivos que la utilizan, en general proyectos grandes.</p><p>Es importante diferenciar dos palabras claves:</p>'
---

<p>
	La palabra reservada de C <strong>extern</strong> se utiliza cuando usamos librerías y multiples archivos que la utilizan, en general proyectos grandes.
</p>
<p>
	Es importante diferenciar dos palabras claves:
	<dl class="dl-horizontal">
		<dt>Definición</dt>
		<dd>El compilador reserva memoria para almacenar la variable</dd>
		<dt>Declaración</dt>
		<dd>El compilador es informado de que la variable existe, y que tipo de dato es (Pero no reserva memoria para almacenarla)</dd>
	</dl>

	Ahora supongamos que tenemos una librería con cabecera llamada: <strong>mi_libreria.h</strong> y dentro tiene una variable declarada como extern:
</p>


<h5>mi_libreria.h</h5>
{% highlight c %}
...
extern int is_cool;
...
{% endhighlight %}

<p>y tenemos un archivo principal main.c</p>


<h5>main.c</h5>
{% highlight c %}
#include "mi_libreria.h"

int is_cool;

int main() {
	is_cool = 1;
}
...
{% endhighlight %}


<p>Y por último tenemos un tercer archivo con funciones que tambien utiliza la librería</p>


<h5>funciones.c</h5>
{% highlight c %}
#include "mi_libreria.h"

void una_funcion() {
	...
	if (is_cool) puts("He is cool");
	...
}
{% endhighlight %}

<p>
	Tenemos 3 archivos. <strong>main.c, funciones.c</strong> y <strong>mi_libreria.h</strong>. tanto main.c como funciones.c usan dicha librería.<br>
	En la librería <strong><big>declaramos</big></strong> la variable is_cool. <br>
	En main.c <strong><big>definimos</big></strong> la variable is_cool.<br>
	Al definirla, el compilador comprueba que el tipo de dato que estamos definiendo sea el mismo que el declarado en la librería.
</p>
<p>
	Ahora la variable is_cool es una variable global (pero muy global, por que es <strong>la misma</strong> en diferentes archivos)
</p>

<p>
	<h4>Reglas Generales</h4>
	<ul>
		<li>
			Un extern solo se utiliza en archivos header (o de cabecera). Nunca en un archivo fuente (.c)
		</li>
		<li>
			Definir una variable extern solo en un archivo fuente. Solo hace falta definirla una vez.
		</li>
	</ul>

	Eso es todo lo que tengo que decir sobre extern en C.
</p>


